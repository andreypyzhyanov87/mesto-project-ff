(()=>{"use strict";function e(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",r),e.addEventListener("mousedown",n)}function t(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",r),e.removeEventListener("mousedown",n)}function n(e){e.target===e.currentTarget&&t(e.currentTarget)}function r(e){"Escape"===e.key&&t(document.querySelector(".popup_is-opened"))}function o(e,t){var n=document.getElementById("card-template").content.cloneNode(!0).querySelector(".card"),r=n.querySelector(".card__image"),o=n.querySelector(".card__title"),c=n.querySelector(".card__delete-button"),d=n.querySelector(".card__like-button");return r.src=e.link,r.alt=e.name,o.textContent=e.name,t&&t.likeCard&&d.addEventListener("click",(function(){t.likeCard(d)})),t&&t.handleImageClick&&r.addEventListener("click",(function(){t.handleImageClick(e.link,e.name)})),t&&t.handleDelete&&c.addEventListener("click",(function(){t.handleDelete(n)})),n}var c=document.querySelector(".places__list"),d=document.querySelector(".popup_type_edit"),p=document.querySelector(".profile__edit-button"),u=d.querySelector(".popup__close"),a=document.querySelector('form[name="edit-profile"]'),i=a.querySelector(".popup__input_type_name"),l=a.querySelector(".popup__input_type_description"),s=document.querySelector(".profile__title"),_=document.querySelector(".profile__description"),m=d.querySelector(".popup__button"),y={handleDelete:function(e){e.remove()},likeCard:function(e){e.classList.toggle("card__like-button_is-active")},handleImageClick:function(t,n){e(h),L.setAttribute("src",t),L.setAttribute("alt",n),x.textContent=n}};p.addEventListener("click",(function(){e(d),i.value=s.textContent,l.value=_.textContent,m.disabled=!1})),u.addEventListener("click",(function(){t(d)})),a.addEventListener("submit",(function(e){e.preventDefault();var n=i.value,r=l.value;s.textContent=n,_.textContent=r,m.disabled=!0,t(d)}));var v=document.querySelector(".popup_type_new-card"),k=document.querySelector(".profile__add-button"),f=v.querySelector(".popup__close"),q=document.querySelector('form[name="new-place"]'),S=q.querySelector(".popup__input_type_card-name"),g=q.querySelector(".popup__input_type_url"),b=v.querySelector(".popup__button");k.addEventListener("click",(function(){e(v),q.reset(),b.disabled=!1})),f.addEventListener("click",(function(){t(v)})),q.addEventListener("submit",(function(e){e.preventDefault();var n=o({name:S.value,link:g.value,likes:[]},y);c.prepend(n),b.disabled=!0,t(v)}));var h=document.querySelector(".popup_type_image"),E=h.querySelector(".popup__close"),L=h.querySelector(".popup__image"),x=h.querySelector(".popup__caption");E.addEventListener("click",(function(){t(h)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=o(e,y);c.append(t)}))})();